\chapter{Rationale ILP system}\label{chap:rationale_ilp_system}
An ILP system Rationale is designed and implemented based on the inverse subsumption with minimal complements algorithm \fullref{inverse_subsumption_with_minimal_complements_algorithm} by Yamamoto\cite{yamamoto2012inverse} and suggestions in \fullref{chap:advancing_solutions_to_issues_in_ilp}. Rationale solves an extension of an ILP task of explanatory induction for clausal theories $B, E^+, E^-, H$. The objective of this chapter is to reveal the details of the prototype implementation and explain the rationales behind.

\section{ILP task definition}
Rationale solves an ILP task $f:I \mapsto O$ of \emph{explanatory induction with negative examples with a classical consequence operator} is defined by $\langle f, dom(f), cod(f), R \rangle$ where $I=\langle B, E^+, E^-, \mathcal{I}_H \rangle$,
$O=\mathcal{H}$,
$R=\{E^- \cap Cl(B \cup H) = \emptyset, E^+ \subseteq Cl(B \cup H), H \in \mathcal{H}\}$ where $B, E^+, E^-, H$ are clausal first order theories and $Cl$ is a classical consequence operator.

\section{Algorithm}
Rationale finds all the hypotheses wrt to the maximal bridge theory $F=B \land \neg E$ and the induction $\mathcal{I}_H$ by using an antisubsumption on the hypothesis antisubsumer.

Therefore the main steps of the Rationale algorithm are:
\begin{itemize}
\item Step 1. compute the maximal hypothesis antisubsumer $T=M(B 
cup \bar{E} \cup Taut(\mathcal{I}_H))$,
\item Step 2. compute the antisubsumed hypotheses $H \subsumes T$,
\item Step 3. prune the hypotheses entailing the negative examples,
\item Step 4. prune the inconsistent hypotheses.
\end{itemize}

\subsection{Maximal hypothesis antisubsumer}
The maximal hypothesis antisubsumer is computed based on the definitons in \fullref{subsec:preliminaries} as follows:

\begin{itemize}
\item Step 1. compute the (maximal) bridge theory $F=B \land \neg E$,
\item Step 2. compute the tautologies $Taut(\mathcal{I}_H)$,
\item Step 3. compute the complement $\overline{F \cup Taut(\mathcal{I}_H)}$,
\item Step 4. compute the minimal complement $M(F \cup Taut(\mathcal{I}_H))$,
\item Step 5. remove the tautological clauses to get the maximal antisubsumer $T=\tau(M(F \cup Taut(\mathcal{I}_H)))$.
\end{itemize}

\subsection{Computing the antisubsumed hypotheses}
The computation of the hypotheses $\mathcal{H}$ subsuming the maximal hypothesis  antisubsumer $T=\tau(M(F \cup Taut(\mathcal{I}_H)))$ is performed using the generalization operators\cite{yamamoto2008towards} antiinstantiation, dropping on the hypothesis antisubsumer $T$, hence preserving the completeness\fullref{complete_inverse_subsumption_operators} for finding a hypothesis wrt an induction field and a bridge formula:

\begin{itemize}
\item Step 1. compute $\mathcal{H}$ derivable by dropping from the antisubsumer $T$,
\item Step 2. given formulas $\mathcal{H}$, for every $H \in \mathcal{H}$ add theories derivable by antiinstantiation from $H$ to $\mathcal{H}$.
\end{itemize}

Then the resulting $\mathcal{H}$ contains all the hypothesis wrt $\mathcal{I_H}$ and some bridge formula.

\subsection{Pruning hypotheses by negative examples}
Rationale could prune the hypotheses $\mathcal{H}$ entailing negative examples using antisubsumption \fullref{proposition_negative_examples_subsumption}.
Although finding a hypothesis using the antisubsumption instead of the antientailment is argued to be more efficient\cite{yamamoto2012inverse}, once a hypothesis $H$ has been found, checking for an entailment $B \cup H \models e$ may be more efficient than checking if $e$ is derivable by antisubsumption from $B \cup H$ with the its additional constructions of hypothesis subsumers required. Given the minor importance of the question, the author has decided to use the binary resolution to check the condition $E^- \cap Cl(B \cup H)=\emptyset$:

\begin{itemize}
\item Step 1. for every hypothesis $H \in \mathcal{H}$ go to Step2:
\item Step 2. for every negative example $e \in E^-$ go to Step 3:
\item Step 3. if $false$ derivable from $B \land H \land \neg e$ by binary resolution, then remove the hypothesis $H$, $\mathcal{H}:=\mathcal{H} \setminus \{H\}$.
\end{itemize}

\section{Bias}

\section{Completeness}

\section{Hypothesis selection}

\section{Hypothesis search}

\section{ILP task definition}

\section{Implementation details}
The yet uncovered details of the Rationale implementation are summarised.

\subsection{Language choice}

\subsection{Libraries used}

\section{Comparison of Rationale with other ILP systems}